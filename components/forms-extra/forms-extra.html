<link rel="stylesheet" href="components/forms-extra/forms-extra.css">

<div class="flex flex-col gap-xl">
    <div class="text-center mb-md">
        <h2 class="text-h2">Extra Form Elements</h2>
        <p class="text-body">Specialized input components.</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-lg">

        <!-- Time Picker -->
        <section class="glass-panel p-lg flex flex-col items-center gap-md">
            <h3 class="text-h3 mb-sm">Time Picker</h3>
            <div class="time-picker-container">
                <div class="time-input-group">
                    <input type="text" class="time-input" value="10" maxlength="2">
                    <span class="time-separator">:</span>
                    <input type="text" class="time-input" value="30" maxlength="2">
                </div>
                <div class="ampm-toggle">
                    <button class="ampm-btn active">AM</button>
                    <button class="ampm-btn">PM</button>
                </div>
            </div>
        </section>

        <!-- Star Rating -->
        <section class="glass-panel p-lg flex flex-col items-center gap-md">
            <h3 class="text-h3 mb-sm">Star Rating</h3>
            <div class="rating-container" id="star-rating">
                <span class="material-icons-round rating-star active" data-value="1">star</span>
                <span class="material-icons-round rating-star active" data-value="2">star</span>
                <span class="material-icons-round rating-star active" data-value="3">star</span>
                <span class="material-icons-round rating-star" data-value="4">star</span>
                <span class="material-icons-round rating-star" data-value="5">star</span>
            </div>
            <div class="text-caption mt-sm">Rate this component</div>
        </section>

        <!-- Color Picker -->
        <section class="glass-panel p-lg flex flex-col items-center gap-md">
            <h3 class="text-h3 mb-sm">Color Picker</h3>
            <div class="color-picker-container flex-col">
                <div class="color-preview" style="background-color: #3b82f6;"></div>
                <div class="color-options">
                    <div class="color-option active" style="background-color: #3b82f6;"></div>
                    <div class="color-option" style="background-color: #ef4444;"></div>
                    <div class="color-option" style="background-color: #10b981;"></div>
                    <div class="color-option" style="background-color: #f59e0b;"></div>
                    <div class="color-option" style="background-color: #8b5cf6;"></div>
                </div>
            </div>
        </section>

    </div>
</div>

<script>
    (function () {
        // Star Rating Logic
        const ratingContainer = document.getElementById('star-rating');
        if (ratingContainer) {
            const stars = ratingContainer.querySelectorAll('.rating-star');
            stars.forEach(star => {
                star.addEventListener('click', () => {
                    const value = parseInt(star.dataset.value);
                    stars.forEach(s => {
                        if (parseInt(s.dataset.value) <= value) {
                            s.classList.add('active');
                            s.textContent = 'star'; // Filled star
                        } else {
                            s.classList.remove('active');
                            s.textContent = 'star_border'; // Outline star (optional visual change)
                        }
                    });
                });
            });
        }

        // Color Picker Logic
        const colorOptions = document.querySelectorAll('.color-option');
        const colorPreview = document.querySelector('.color-preview');
        if (colorOptions.length && colorPreview) {
            colorOptions.forEach(option => {
                option.addEventListener('click', () => {
                    // Remove active class from all
                    colorOptions.forEach(opt => opt.classList.remove('active'));
                    // Add active to clicked
                    option.classList.add('active');
                    // Update preview
                    colorPreview.style.backgroundColor = option.style.backgroundColor;
                });
            });
        }
    })();
</script>